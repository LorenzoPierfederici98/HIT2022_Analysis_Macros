<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HIT 2022 Analysis: /mnt/c/Users/Lorenzo/Desktop/HIT2022_Analysis_Macros/src/AnalyzeTofMC.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="FOOT_logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">HIT 2022 Analysis
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('AnalyzeTofMC_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">AnalyzeTofMC.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Header file for AnalyzeTofMC.cc.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;TFile.h&gt;</code><br />
<code>#include &lt;TKey.h&gt;</code><br />
<code>#include &lt;TDirectory.h&gt;</code><br />
<code>#include &lt;TH1.h&gt;</code><br />
<code>#include &lt;TF1.h&gt;</code><br />
<code>#include &lt;TGraphErrors.h&gt;</code><br />
<code>#include &lt;TCanvas.h&gt;</code><br />
<code>#include &lt;TNamed.h&gt;</code><br />
<code>#include &lt;TSpectrum.h&gt;</code><br />
<code>#include &lt;iostream&gt;</code><br />
<code>#include &lt;vector&gt;</code><br />
<code>#include &lt;map&gt;</code><br />
<code>#include &lt;regex&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for AnalyzeTofMC.h:</div>
<div class="dyncontent">
<div class="center"><img src="AnalyzeTofMC_8h__incl.png" border="0" usemap="#a_2mnt_2c_2Users_2Lorenzo_2Desktop_2HIT2022__Analysis__Macros_2src_2AnalyzeTofMC_8h" alt=""/></div>
<map name="a_2mnt_2c_2Users_2Lorenzo_2Desktop_2HIT2022__Analysis__Macros_2src_2AnalyzeTofMC_8h" id="a_2mnt_2c_2Users_2Lorenzo_2Desktop_2HIT2022__Analysis__Macros_2src_2AnalyzeTofMC_8h">
<area shape="rect" title="Header file for AnalyzeTofMC.cc." alt="" coords="560,5,767,60"/>
<area shape="rect" title=" " alt="" coords="5,108,71,133"/>
<area shape="poly" title=" " alt="" coords="560,46,345,71,217,89,85,111,84,105,216,83,344,65,559,41"/>
<area shape="rect" title=" " alt="" coords="95,108,159,133"/>
<area shape="poly" title=" " alt="" coords="560,49,383,74,173,111,172,105,382,69,559,44"/>
<area shape="rect" title=" " alt="" coords="184,108,284,133"/>
<area shape="poly" title=" " alt="" coords="560,57,298,109,297,104,559,52"/>
<area shape="rect" title=" " alt="" coords="308,108,368,133"/>
<area shape="poly" title=" " alt="" coords="564,63,382,110,381,105,563,58"/>
<area shape="rect" title=" " alt="" coords="393,108,451,133"/>
<area shape="poly" title=" " alt="" coords="591,63,466,107,464,102,589,58"/>
<area shape="rect" title=" " alt="" coords="476,108,595,133"/>
<area shape="poly" title=" " alt="" coords="626,62,565,103,562,98,623,58"/>
<area shape="rect" title=" " alt="" coords="619,108,708,133"/>
<area shape="poly" title=" " alt="" coords="666,60,666,94,661,94,661,60"/>
<area shape="rect" title=" " alt="" coords="732,108,821,133"/>
<area shape="poly" title=" " alt="" coords="700,58,752,97,749,102,696,62"/>
<area shape="rect" title=" " alt="" coords="846,108,950,133"/>
<area shape="poly" title=" " alt="" coords="736,58,855,101,853,106,734,63"/>
<area shape="rect" title=" " alt="" coords="974,108,1054,133"/>
<area shape="poly" title=" " alt="" coords="768,57,961,104,960,109,766,62"/>
<area shape="rect" title=" " alt="" coords="1079,108,1141,133"/>
<area shape="poly" title=" " alt="" coords="767,48,905,73,1066,105,1064,111,904,78,766,54"/>
<area shape="rect" title=" " alt="" coords="1166,108,1217,133"/>
<area shape="poly" title=" " alt="" coords="767,43,944,67,1153,105,1152,111,943,72,767,48"/>
<area shape="rect" title=" " alt="" coords="1241,108,1299,133"/>
<area shape="poly" title=" " alt="" coords="767,41,976,65,1100,83,1228,105,1227,111,1100,88,975,70,766,46"/>
</map>
</div>
</div>
<p><a href="AnalyzeTofMC_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a528148d5c0683839f6dec9f9a13ef9b6" id="r_a528148d5c0683839f6dec9f9a13ef9b6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AnalyzeTofMC_8h.html#a528148d5c0683839f6dec9f9a13ef9b6">ProcessFile</a> (const std::string &amp;fileName, int energy, std::map&lt; TString, std::map&lt; int, double &gt; &gt; &amp;TofMeansMC, std::map&lt; TString, std::map&lt; int, double &gt; &gt; &amp;TofErrorsMC)</td></tr>
<tr class="memdesc:a528148d5c0683839f6dec9f9a13ef9b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes a ROOT file and fits the histograms.  <br /></td></tr>
<tr class="separator:a528148d5c0683839f6dec9f9a13ef9b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2136ab016ddeabc904c87316e8d034b0" id="r_a2136ab016ddeabc904c87316e8d034b0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AnalyzeTofMC_8h.html#a2136ab016ddeabc904c87316e8d034b0">FitHistogramsInDirectory</a> (TDirectory *dir, int energy, std::map&lt; TString, std::map&lt; int, double &gt; &gt; &amp;TofMeansMC, std::map&lt; TString, std::map&lt; int, double &gt; &gt; &amp;TofErrorsMC, TFile *outputFile)</td></tr>
<tr class="memdesc:a2136ab016ddeabc904c87316e8d034b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fits histograms in a directory and stores the results.  <br /></td></tr>
<tr class="separator:a2136ab016ddeabc904c87316e8d034b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82f501f613b6a51643fcadd61ce5ba9b" id="r_a82f501f613b6a51643fcadd61ce5ba9b"><td class="memItemLeft" align="right" valign="top">TFitResultPtr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AnalyzeTofMC_8h.html#a82f501f613b6a51643fcadd61ce5ba9b">FitPeaksWithTSpectrum</a> (TH1D *hist, int energy, const TString &amp;layerBarCombination)</td></tr>
<tr class="memdesc:a82f501f613b6a51643fcadd61ce5ba9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fits peaks in a histogram using TSpectrum.  <br /></td></tr>
<tr class="separator:a82f501f613b6a51643fcadd61ce5ba9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Header file for AnalyzeTofMC.cc. </p>
<p>This file contains function declarations for fitting ToF (Time of Flight) distributions from the AnalyzeTWFragMC.cc output files (for MC runs). The fits are performed with a gaussian function, the fit limits depend on the bar and on the beam energy. The histogram peaks are automatically found with TSpectrum; the fits are then performed within a certain bin-range centered around the peak, depending on the specific bar and beam energy. The fit results are stored in output files, created if they don't already exist, or overwritten if they do. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a2136ab016ddeabc904c87316e8d034b0" name="a2136ab016ddeabc904c87316e8d034b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2136ab016ddeabc904c87316e8d034b0">&#9670;&#160;</a></span>FitHistogramsInDirectory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FitHistogramsInDirectory </td>
          <td>(</td>
          <td class="paramtype">TDirectory *&#160;</td>
          <td class="paramname"><em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>energy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; TString, std::map&lt; int, double &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>TofMeansMC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; TString, std::map&lt; int, double &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>TofErrorsMC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TFile *&#160;</td>
          <td class="paramname"><em>outputFile</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fits histograms in a directory and stores the results. </p>
<p>This function fits the histograms in the specified directory using a gaussian function. The fit results are stored in the provided maps and written to the output file.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dir</td><td>Pointer to the directory containing the histograms. </td></tr>
    <tr><td class="paramname">energy</td><td>Beam energy. </td></tr>
    <tr><td class="paramname">TofMeansMC</td><td>Map to store the mean values of the fits. </td></tr>
    <tr><td class="paramname">TofErrorsMC</td><td>Map to store the errors of the fits. </td></tr>
    <tr><td class="paramname">outputFile</td><td>Pointer to the output ROOT file to store the fitted histograms.</td></tr>
  </table>
  </dd>
</dl>
<p>This function fits the histograms in the specified directory using a gaussian function. The fit results are stored in the provided maps and written to the output file.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dir</td><td>Pointer to the directory containing the histograms. </td></tr>
    <tr><td class="paramname">energy</td><td>Beam energy. </td></tr>
    <tr><td class="paramname">TofMeans</td><td>Map to store the mean values of the fits. </td></tr>
    <tr><td class="paramname">TofErrors</td><td>Map to store the errors of the fits. </td></tr>
    <tr><td class="paramname">outputFile</td><td>Pointer to the output ROOT file to store the fitted histograms. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a82f501f613b6a51643fcadd61ce5ba9b" name="a82f501f613b6a51643fcadd61ce5ba9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82f501f613b6a51643fcadd61ce5ba9b">&#9670;&#160;</a></span>FitPeaksWithTSpectrum()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TFitResultPtr FitPeaksWithTSpectrum </td>
          <td>(</td>
          <td class="paramtype">TH1D *&#160;</td>
          <td class="paramname"><em>hist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>energy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TString &amp;&#160;</td>
          <td class="paramname"><em>layerBarCombination</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fits peaks in a histogram using TSpectrum. </p>
<p>This function fits peaks in the specified histogram using TSpectrum and a gaussian function. The fit results are returned as a TFitResultPtr.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hist</td><td>Pointer to the histogram. </td></tr>
    <tr><td class="paramname">energy</td><td>Beam energy. </td></tr>
    <tr><td class="paramname">layerBarCombination</td><td>String representing the layer and bar combination. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TFitResultPtr containing the fit results. </dd></dl>

</div>
</div>
<a id="a528148d5c0683839f6dec9f9a13ef9b6" name="a528148d5c0683839f6dec9f9a13ef9b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a528148d5c0683839f6dec9f9a13ef9b6">&#9670;&#160;</a></span>ProcessFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ProcessFile </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>energy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; TString, std::map&lt; int, double &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>TofMeansMC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; TString, std::map&lt; int, double &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>TofErrorsMC</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Processes a ROOT file and fits the histograms. </p>
<p>This function processes the specified ROOT file, fits the histograms in the specified directories, and stores the fit results in the provided maps.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fileName</td><td>Name of the ROOT file. </td></tr>
    <tr><td class="paramname">energy</td><td>Beam energy. </td></tr>
    <tr><td class="paramname">TofMeansMC</td><td>Map to store the mean values of the fits. </td></tr>
    <tr><td class="paramname">TofErrorsMC</td><td>Map to store the errors of the fits.</td></tr>
  </table>
  </dd>
</dl>
<p>This function processes the specified ROOT file, fits the histograms in the specified directories, and stores the fit results in the provided maps.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fileName</td><td>Name of the ROOT file. </td></tr>
    <tr><td class="paramname">energy</td><td>Beam energy. </td></tr>
    <tr><td class="paramname">TofMeans</td><td>Map to store the mean values of the fits. </td></tr>
    <tr><td class="paramname">TofErrors</td><td>Map to store the errors of the fits. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="AnalyzeTofMC_8h.html">AnalyzeTofMC.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
