<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HIT 2022 Analysis: /mnt/c/Users/Lorenzo/Desktop/HIT2022_Analysis_Macros/src/AnalyzeTWMC.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="FOOT_logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">HIT 2022 Analysis
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('AnalyzeTWMC_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">AnalyzeTWMC.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Header file for processing and fitting energy loss distribution histograms from ROOT files.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;TFile.h&gt;</code><br />
<code>#include &lt;TKey.h&gt;</code><br />
<code>#include &lt;TDirectory.h&gt;</code><br />
<code>#include &lt;TH1.h&gt;</code><br />
<code>#include &lt;TF1.h&gt;</code><br />
<code>#include &lt;TGraphErrors.h&gt;</code><br />
<code>#include &lt;TCanvas.h&gt;</code><br />
<code>#include &lt;TNamed.h&gt;</code><br />
<code>#include &lt;TSpectrum.h&gt;</code><br />
<code>#include &lt;iostream&gt;</code><br />
<code>#include &lt;vector&gt;</code><br />
<code>#include &lt;map&gt;</code><br />
<code>#include &lt;regex&gt;</code><br />
</div>
<p><a href="AnalyzeTWMC_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aafbdc017754d8392bf014a36767842e4" id="r_aafbdc017754d8392bf014a36767842e4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AnalyzeTWMC_8h.html#aafbdc017754d8392bf014a36767842e4">ProcessFile</a> (const std::string &amp;fileName, int energy, std::map&lt; int, double &gt; &amp;fitMeanP, std::map&lt; int, double &gt; &amp;fitMeanHe, std::map&lt; int, double &gt; &amp;fitErrorP, std::map&lt; int, double &gt; &amp;fitErrorHe)</td></tr>
<tr class="memdesc:aafbdc017754d8392bf014a36767842e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes a ROOT file to fit the charge distribution.  <br /></td></tr>
<tr class="separator:aafbdc017754d8392bf014a36767842e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15e3e63c2fe3026d9a34aa8bbcc77a6d" id="r_a15e3e63c2fe3026d9a34aa8bbcc77a6d"><td class="memItemLeft" align="right" valign="top">std::pair&lt; TFitResultPtr, TFitResultPtr &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AnalyzeTWMC_8h.html#a15e3e63c2fe3026d9a34aa8bbcc77a6d">FitPeaksWithTSpectrum</a> (TH1D *hist, int energy)</td></tr>
<tr class="memdesc:a15e3e63c2fe3026d9a34aa8bbcc77a6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fits the peaks in a histogram using TSpectrum.  <br /></td></tr>
<tr class="separator:a15e3e63c2fe3026d9a34aa8bbcc77a6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Header file for processing and fitting energy loss distribution histograms from ROOT files. </p>
<p>Macro that fits the energy loss distribution from the AnalyzeTWFragMC.cc output files (for MC runs). A fit is performed with 2 separate gaussians, one for proton and one for helium peaks. The peaks are automatically found with TSpectrum and then fitted within a certain bin-range centered around the peak. The fit results are stored in files name like e.g. AnaFOOT_TW_DecodedMC_HIT2022_MC_140_Fit.root. To be run with root -l -b -q 'AnalyzeTWMC.cc()'. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a15e3e63c2fe3026d9a34aa8bbcc77a6d" name="a15e3e63c2fe3026d9a34aa8bbcc77a6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15e3e63c2fe3026d9a34aa8bbcc77a6d">&#9670;&#160;</a></span>FitPeaksWithTSpectrum()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; TFitResultPtr, TFitResultPtr &gt; FitPeaksWithTSpectrum </td>
          <td>(</td>
          <td class="paramtype">TH1D *&#160;</td>
          <td class="paramname"><em>hist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>energy</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fits the peaks in a histogram using TSpectrum. </p>
<p>This function uses TSpectrum to search for peaks in a histogram within a specified range. It then fits the found peaks with Gaussian functions. The first peak is assumed to be for protons, and the second peak (if found) is assumed to be for heliums.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hist</td><td>The histogram to fit. </td></tr>
    <tr><td class="paramname">energy</td><td>The energy value associated with the histogram. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pair of TFitResultPtr, where the first element is the fit result for protons and the second element is the fit result for helium. </dd></dl>

</div>
</div>
<a id="aafbdc017754d8392bf014a36767842e4" name="aafbdc017754d8392bf014a36767842e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafbdc017754d8392bf014a36767842e4">&#9670;&#160;</a></span>ProcessFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ProcessFile </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>energy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; int, double &gt; &amp;&#160;</td>
          <td class="paramname"><em>fitMeanP</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; int, double &gt; &amp;&#160;</td>
          <td class="paramname"><em>fitMeanHe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; int, double &gt; &amp;&#160;</td>
          <td class="paramname"><em>fitErrorP</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; int, double &gt; &amp;&#160;</td>
          <td class="paramname"><em>fitErrorHe</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Processes a ROOT file to fit the charge distribution. </p>
<p>This function processes a ROOT file containing charge distribution data. It performs a fit with two separate Gaussians, one for proton and one for helium peaks. The peaks are automatically found with TSpectrum, and then fitted within a certain bin-range centered around the peak. The fit results are stored in files named like e.g. AnaFOOT_TW_DecodedMC_HIT2022_MC_140_Fit.root.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fileName</td><td>The name of the ROOT file to process. </td></tr>
    <tr><td class="paramname">energy</td><td>The energy value associated with the file. </td></tr>
    <tr><td class="paramname">fitMeanP</td><td>A map to store the mean fit values for protons. </td></tr>
    <tr><td class="paramname">fitMeanHe</td><td>A map to store the mean fit values for helium. </td></tr>
    <tr><td class="paramname">fitErrorP</td><td>A map to store the fit errors for protons. </td></tr>
    <tr><td class="paramname">fitErrorHe</td><td>A map to store the fit errors for helium. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="AnalyzeTWMC_8h.html">AnalyzeTWMC.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
