<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.9.8" xml:lang="en-US">
  <compounddef id="AnalyzeTofFragm_8h" kind="file" language="C++">
    <compoundname>AnalyzeTofFragm.h</compoundname>
    <includes local="no">TFile.h</includes>
    <includes local="no">TKey.h</includes>
    <includes local="no">TDirectory.h</includes>
    <includes local="no">TH1.h</includes>
    <includes local="no">TF1.h</includes>
    <includes local="no">TGraphErrors.h</includes>
    <includes local="no">TCanvas.h</includes>
    <includes local="no">TNamed.h</includes>
    <includes local="no">TSpectrum.h</includes>
    <includes local="no">iostream</includes>
    <includes local="no">vector</includes>
    <includes local="no">map</includes>
    <includes local="no">regex</includes>
    <includedby refid="AnalyzeTofFragm_8cc" local="yes">/mnt/c/Users/Lorenzo/Desktop/HIT2022_Analysis_Macros/src/AnalyzeTofFragm.cc</includedby>
    <incdepgraph>
      <node id="1">
        <label>/mnt/c/Users/Lorenzo/Desktop/HIT2022_Analysis_Macros/src/AnalyzeTofFragm.h</label>
        <link refid="AnalyzeTofFragm_8h"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="11" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="14" relation="include">
        </childnode>
      </node>
      <node id="8">
        <label>TCanvas.h</label>
      </node>
      <node id="4">
        <label>TDirectory.h</label>
      </node>
      <node id="6">
        <label>TF1.h</label>
      </node>
      <node id="2">
        <label>TFile.h</label>
      </node>
      <node id="7">
        <label>TGraphErrors.h</label>
      </node>
      <node id="5">
        <label>TH1.h</label>
      </node>
      <node id="3">
        <label>TKey.h</label>
      </node>
      <node id="9">
        <label>TNamed.h</label>
      </node>
      <node id="10">
        <label>TSpectrum.h</label>
      </node>
      <node id="11">
        <label>iostream</label>
      </node>
      <node id="13">
        <label>map</label>
      </node>
      <node id="14">
        <label>regex</label>
      </node>
      <node id="12">
        <label>vector</label>
      </node>
    </incdepgraph>
    <sectiondef kind="func">
      <memberdef kind="function" id="AnalyzeTofFragm_8h_1a58aa16b94804392225cab0761e0e0b73" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void ProcessFile</definition>
        <argsstring>(const std::string &amp;fileName, int energy, std::map&lt; TString, std::map&lt; int, double &gt; &gt; &amp;TofMeans, std::map&lt; TString, std::map&lt; int, double &gt; &gt; &amp;TofErrors)</argsstring>
        <name>ProcessFile</name>
        <param>
          <type>const std::string &amp;</type>
          <declname>fileName</declname>
        </param>
        <param>
          <type>int</type>
          <declname>energy</declname>
        </param>
        <param>
          <type>std::map&lt; TString, std::map&lt; int, double &gt; &gt; &amp;</type>
          <declname>TofMeans</declname>
        </param>
        <param>
          <type>std::map&lt; TString, std::map&lt; int, double &gt; &gt; &amp;</type>
          <declname>TofErrors</declname>
        </param>
        <briefdescription>
<para>Processes a ROOT file and fits the histograms. </para>
        </briefdescription>
        <detaileddescription>
<para>This function processes the specified ROOT file, fits the histograms in the specified directories, and stores the fit results in the provided maps. The fit results are stored in output files.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>fileName</parametername>
</parameternamelist>
<parameterdescription>
<para>Name of the ROOT file. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>energy</parametername>
</parameternamelist>
<parameterdescription>
<para>Beam energy. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>TofMeans</parametername>
</parameternamelist>
<parameterdescription>
<para>Map to store the mean values of the fits. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>TofErrors</parametername>
</parameternamelist>
<parameterdescription>
<para>Map to store the errors of the fits. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/c/Users/Lorenzo/Desktop/HIT2022_Analysis_Macros/src/AnalyzeTofFragm.h" line="39" column="7" bodyfile="/mnt/c/Users/Lorenzo/Desktop/HIT2022_Analysis_Macros/src/AnalyzeTofFragm.cc" bodystart="74" bodyend="116" declfile="/mnt/c/Users/Lorenzo/Desktop/HIT2022_Analysis_Macros/src/AnalyzeTofFragm.h" declline="39" declcolumn="7"/>
      </memberdef>
      <memberdef kind="function" id="AnalyzeTofFragm_8h_1ab7381314d22509d291beb58f457e9092" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void FitHistogramsInDirectory</definition>
        <argsstring>(TDirectory *dir, int energy, std::map&lt; TString, std::map&lt; int, double &gt; &gt; &amp;TofMeans, std::map&lt; TString, std::map&lt; int, double &gt; &gt; &amp;TofErrors, TFile *outputFile)</argsstring>
        <name>FitHistogramsInDirectory</name>
        <param>
          <type>TDirectory *</type>
          <declname>dir</declname>
        </param>
        <param>
          <type>int</type>
          <declname>energy</declname>
        </param>
        <param>
          <type>std::map&lt; TString, std::map&lt; int, double &gt; &gt; &amp;</type>
          <declname>TofMeans</declname>
        </param>
        <param>
          <type>std::map&lt; TString, std::map&lt; int, double &gt; &gt; &amp;</type>
          <declname>TofErrors</declname>
        </param>
        <param>
          <type>TFile *</type>
          <declname>outputFile</declname>
        </param>
        <briefdescription>
<para>Fits histograms in a directory and stores the results. </para>
        </briefdescription>
        <detaileddescription>
<para>This function fits the histograms in the specified directory using a gaussian function. The fit results are stored in the provided maps and written to the output file.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>dir</parametername>
</parameternamelist>
<parameterdescription>
<para>Pointer to the directory containing the histograms. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>energy</parametername>
</parameternamelist>
<parameterdescription>
<para>Beam energy. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>TofMeans</parametername>
</parameternamelist>
<parameterdescription>
<para>Map to store the mean values of the fits. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>TofErrors</parametername>
</parameternamelist>
<parameterdescription>
<para>Map to store the errors of the fits. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>outputFile</parametername>
</parameternamelist>
<parameterdescription>
<para>Pointer to the output ROOT file to store the fitted histograms. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/c/Users/Lorenzo/Desktop/HIT2022_Analysis_Macros/src/AnalyzeTofFragm.h" line="58" column="7" bodyfile="/mnt/c/Users/Lorenzo/Desktop/HIT2022_Analysis_Macros/src/AnalyzeTofFragm.cc" bodystart="28" bodyend="72" declfile="/mnt/c/Users/Lorenzo/Desktop/HIT2022_Analysis_Macros/src/AnalyzeTofFragm.h" declline="58" declcolumn="7"/>
      </memberdef>
      <memberdef kind="function" id="AnalyzeTofFragm_8h_1a82f501f613b6a51643fcadd61ce5ba9b" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>TFitResultPtr</type>
        <definition>TFitResultPtr FitPeaksWithTSpectrum</definition>
        <argsstring>(TH1D *hist, int energy, const TString &amp;layerBarCombination)</argsstring>
        <name>FitPeaksWithTSpectrum</name>
        <param>
          <type>TH1D *</type>
          <declname>hist</declname>
        </param>
        <param>
          <type>int</type>
          <declname>energy</declname>
        </param>
        <param>
          <type>const TString &amp;</type>
          <declname>layerBarCombination</declname>
        </param>
        <briefdescription>
<para>Fits peaks in a histogram using TSpectrum. </para>
        </briefdescription>
        <detaileddescription>
<para>This function fits peaks in the specified histogram using TSpectrum and a gaussian function. The fit results are returned as a TFitResultPtr.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>hist</parametername>
</parameternamelist>
<parameterdescription>
<para>Pointer to the histogram. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>energy</parametername>
</parameternamelist>
<parameterdescription>
<para>Beam energy. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>layerBarCombination</parametername>
</parameternamelist>
<parameterdescription>
<para>String representing the layer and bar combination. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>TFitResultPtr containing the fit results. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/c/Users/Lorenzo/Desktop/HIT2022_Analysis_Macros/src/AnalyzeTofFragm.h" line="77" column="16" bodyfile="/mnt/c/Users/Lorenzo/Desktop/HIT2022_Analysis_Macros/src/AnalyzeTofFragm.cc" bodystart="118" bodyend="489" declfile="/mnt/c/Users/Lorenzo/Desktop/HIT2022_Analysis_Macros/src/AnalyzeTofFragm.h" declline="77" declcolumn="16"/>
      </memberdef>
    </sectiondef>
    <briefdescription>
<para>Header file for AnalyzeTofFragm.cc. </para>
    </briefdescription>
    <detaileddescription>
<para>This file contains function declarations for fitting ToF (Time of Flight) distributions from the AnalyzeTWChargeTime.cc merged output files (for fragmentation runs). The fits are performed with a gaussian function, the fit limits depend on the bar and on the beam energy. The histogram peaks are automatically found with TSPectrum; the fits are then performed within a certain bin-range centered around the peak, depending on the specific bar and beam energy. The fit results are stored in output files, created if they don&apos;t already exist, or overwritten if they do. </para>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/>#if<sp/>!defined(__CINT__)<sp/>||<sp/>defined(__MAKECINT__)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/>#include<sp/>&lt;TFile.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/>#include<sp/>&lt;TKey.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/>#include<sp/>&lt;TDirectory.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/>#include<sp/>&lt;TH1.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/>#include<sp/>&lt;TF1.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/>#include<sp/>&lt;TGraphErrors.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/>#include<sp/>&lt;TCanvas.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/>#include<sp/>&lt;TNamed.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/>#include<sp/>&lt;TSpectrum.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/>#include<sp/>&lt;iostream&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/>#include<sp/>&lt;vector&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/>#include<sp/>&lt;map&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/>#include<sp/>&lt;regex&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/>#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="AnalyzeTofFragm_8h_1a58aa16b94804392225cab0761e0e0b73" kindref="member">ProcessFile</ref>(</highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>fileName,</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>energy,</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>std::map&lt;TString,<sp/>std::map&lt;int,<sp/>double&gt;&gt;&amp;<sp/>TofMeans,</highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>std::map&lt;TString,<sp/>std::map&lt;int,<sp/>double&gt;&gt;&amp;<sp/>TofErrors</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/>);</highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="AnalyzeTofFragm_8h_1ab7381314d22509d291beb58f457e9092" kindref="member">FitHistogramsInDirectory</ref>(</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>TDirectory*<sp/>dir,</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>energy,</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>std::map&lt;TString,<sp/>std::map&lt;int,<sp/>double&gt;&gt;&amp;<sp/>TofMeans,</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>std::map&lt;TString,<sp/>std::map&lt;int,<sp/>double&gt;&gt;&amp;<sp/>TofErrors,</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>TFile*<sp/>outputFile</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/>);</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/>TFitResultPtr<sp/><ref refid="AnalyzeTofFragm_8h_1a82f501f613b6a51643fcadd61ce5ba9b" kindref="member">FitPeaksWithTSpectrum</ref>(TH1D<sp/>*hist,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>energy,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>TString<sp/>&amp;layerBarCombination);</highlight></codeline>
    </programlisting>
    <location file="/mnt/c/Users/Lorenzo/Desktop/HIT2022_Analysis_Macros/src/AnalyzeTofFragm.h"/>
  </compounddef>
</doxygen>
