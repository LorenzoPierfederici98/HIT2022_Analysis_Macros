<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.9.8" xml:lang="en-US">
  <compounddef id="AnalyzePeakCrystal_8h" kind="file" language="C++">
    <compoundname>AnalyzePeakCrystal.h</compoundname>
    <includes local="no">TFile.h</includes>
    <includes local="no">TCanvas.h</includes>
    <includes local="no">TH1D.h</includes>
    <includes local="no">TFitResultPtr.h</includes>
    <includes local="no">TF1.h</includes>
    <includes local="no">TLegend.h</includes>
    <includes local="no">TObjString.h</includes>
    <includes local="no">iostream</includes>
    <includes local="no">cmath</includes>
    <includes local="no">iomanip</includes>
    <includes local="no">TSpectrum.h</includes>
    <includedby refid="AnalyzePeakCrystal_8cc" local="yes">/mnt/c/Users/Lorenzo/Desktop/HIT2022_Analysis_Macros/src/AnalyzePeakCrystal.cc</includedby>
    <incdepgraph>
      <node id="1">
        <label>/mnt/c/Users/Lorenzo/Desktop/HIT2022_Analysis_Macros/src/AnalyzePeakCrystal.h</label>
        <link refid="AnalyzePeakCrystal_8h"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="11" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
      </node>
      <node id="3">
        <label>TCanvas.h</label>
      </node>
      <node id="6">
        <label>TF1.h</label>
      </node>
      <node id="2">
        <label>TFile.h</label>
      </node>
      <node id="5">
        <label>TFitResultPtr.h</label>
      </node>
      <node id="4">
        <label>TH1D.h</label>
      </node>
      <node id="7">
        <label>TLegend.h</label>
      </node>
      <node id="8">
        <label>TObjString.h</label>
      </node>
      <node id="12">
        <label>TSpectrum.h</label>
      </node>
      <node id="10">
        <label>cmath</label>
      </node>
      <node id="11">
        <label>iomanip</label>
      </node>
      <node id="9">
        <label>iostream</label>
      </node>
    </incdepgraph>
    <sectiondef kind="func">
      <memberdef kind="function" id="AnalyzePeakCrystal_8h_1a5aadeca6af3105a72d885dcc752237db" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void PrintMeasurement</definition>
        <argsstring>(double value, double uncertainty)</argsstring>
        <name>PrintMeasurement</name>
        <param>
          <type>double</type>
          <declname>value</declname>
        </param>
        <param>
          <type>double</type>
          <declname>uncertainty</declname>
        </param>
        <briefdescription>
<para>Prints a measurement value and its uncertainty. </para>
        </briefdescription>
        <detaileddescription>
<para>This function prints a measurement value and its uncertainty to the console.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>value</parametername>
</parameternamelist>
<parameterdescription>
<para>The measurement value. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>uncertainty</parametername>
</parameternamelist>
<parameterdescription>
<para>The uncertainty of the measurement. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/c/Users/Lorenzo/Desktop/HIT2022_Analysis_Macros/src/AnalyzePeakCrystal.h" line="35" column="6" bodyfile="/mnt/c/Users/Lorenzo/Desktop/HIT2022_Analysis_Macros/src/AnalyzePeakCrystal.cc" bodystart="84" bodyend="90" declfile="/mnt/c/Users/Lorenzo/Desktop/HIT2022_Analysis_Macros/src/AnalyzePeakCrystal.h" declline="35" declcolumn="6"/>
      </memberdef>
      <memberdef kind="function" id="AnalyzePeakCrystal_8h_1a814766d4b881835f9ba65bc6bcb27b0d" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>TFitResultPtr</type>
        <definition>TFitResultPtr FitPeakWithTSpectrum</definition>
        <argsstring>(TH1D *hist, double threshold)</argsstring>
        <name>FitPeakWithTSpectrum</name>
        <param>
          <type>TH1D *</type>
          <declname>hist</declname>
        </param>
        <param>
          <type>double</type>
          <declname>threshold</declname>
        </param>
        <briefdescription>
<para>Fits a peak in a histogram using TSpectrum. </para>
        </briefdescription>
        <detaileddescription>
<para>This function uses TSpectrum to search for a peak in a histogram and fits it with a Gaussian function.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>hist</parametername>
</parameternamelist>
<parameterdescription>
<para>The histogram to fit. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>threshold</parametername>
</parameternamelist>
<parameterdescription>
<para>The threshold for peak detection. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>A TFitResultPtr containing the fit result. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/c/Users/Lorenzo/Desktop/HIT2022_Analysis_Macros/src/AnalyzePeakCrystal.h" line="46" column="15" bodyfile="/mnt/c/Users/Lorenzo/Desktop/HIT2022_Analysis_Macros/src/AnalyzePeakCrystal.cc" bodystart="93" bodyend="111" declfile="/mnt/c/Users/Lorenzo/Desktop/HIT2022_Analysis_Macros/src/AnalyzePeakCrystal.h" declline="46" declcolumn="15"/>
      </memberdef>
      <memberdef kind="function" id="AnalyzePeakCrystal_8h_1aee07cb059be4125e9378b6ec353e11a3" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>std::tuple&lt; TH1D *, TH1D * &gt;</type>
        <definition>std::tuple&lt; TH1D *, TH1D * &gt; FindHistograms</definition>
        <argsstring>(TFile *inFile, const TString &amp;histName_total, const TString &amp;histName)</argsstring>
        <name>FindHistograms</name>
        <param>
          <type>TFile *</type>
          <declname>inFile</declname>
        </param>
        <param>
          <type>const TString &amp;</type>
          <declname>histName_total</declname>
        </param>
        <param>
          <type>const TString &amp;</type>
          <declname>histName</declname>
        </param>
        <briefdescription>
<para>Finds histograms in a ROOT file. </para>
        </briefdescription>
        <detaileddescription>
<para>This function finds and retrieves histograms from a ROOT file.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>inFile</parametername>
</parameternamelist>
<parameterdescription>
<para>The input ROOT file. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>histName_total</parametername>
</parameternamelist>
<parameterdescription>
<para>The name of the total histogram. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>histName</parametername>
</parameternamelist>
<parameterdescription>
<para>The name of the specific histogram. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>A tuple containing pointers to the total histogram and the specific histogram. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/c/Users/Lorenzo/Desktop/HIT2022_Analysis_Macros/src/AnalyzePeakCrystal.h" line="58" column="12" bodyfile="/mnt/c/Users/Lorenzo/Desktop/HIT2022_Analysis_Macros/src/AnalyzePeakCrystal.cc" bodystart="114" bodyend="121" declfile="/mnt/c/Users/Lorenzo/Desktop/HIT2022_Analysis_Macros/src/AnalyzePeakCrystal.h" declline="58" declcolumn="12"/>
      </memberdef>
      <memberdef kind="function" id="AnalyzePeakCrystal_8h_1aec202f6e32bb23c6bb5ffe63a7d2e7df" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void SaveFitResultsToFile</definition>
        <argsstring>(TCanvas *canvas, TH1D *hist, TFitResultPtr fitResult, const TString &amp;outputFileName)</argsstring>
        <name>SaveFitResultsToFile</name>
        <param>
          <type>TCanvas *</type>
          <declname>canvas</declname>
        </param>
        <param>
          <type>TH1D *</type>
          <declname>hist</declname>
        </param>
        <param>
          <type>TFitResultPtr</type>
          <declname>fitResult</declname>
        </param>
        <param>
          <type>const TString &amp;</type>
          <declname>outputFileName</declname>
        </param>
        <briefdescription>
<para>Saves fit results to a ROOT file. </para>
        </briefdescription>
        <detaileddescription>
<para>This function saves the fit results and the corresponding histogram to a ROOT file.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>canvas</parametername>
</parameternamelist>
<parameterdescription>
<para>The canvas containing the fit plot. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>hist</parametername>
</parameternamelist>
<parameterdescription>
<para>The histogram to save. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>fitResult</parametername>
</parameternamelist>
<parameterdescription>
<para>The fit result to save. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>outputFileName</parametername>
</parameternamelist>
<parameterdescription>
<para>The name of the output ROOT file. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/mnt/c/Users/Lorenzo/Desktop/HIT2022_Analysis_Macros/src/AnalyzePeakCrystal.h" line="70" column="6" bodyfile="/mnt/c/Users/Lorenzo/Desktop/HIT2022_Analysis_Macros/src/AnalyzePeakCrystal.cc" bodystart="123" bodyend="138" declfile="/mnt/c/Users/Lorenzo/Desktop/HIT2022_Analysis_Macros/src/AnalyzePeakCrystal.h" declline="70" declcolumn="6"/>
      </memberdef>
    </sectiondef>
    <briefdescription>
<para>Header file for processing and fitting charge distribution histograms from ROOT files. </para>
    </briefdescription>
    <detaileddescription>
<para>Macro that fits the 1D charge histograms for a given crystal of the calorimeter. The histograms are retrieved from the AnaLyzeCalo.cc merged output files (the histograms are automatically summed). To be run with e.g. <lsquo/>root -l -b -q &apos;AnalyzePeakCrystal.cc()<rsquo/>`<computeroutput>, -b doesn&apos;t display plots. In an interval between x_min and x_max a peak beyond fit_thresh is automatically found with TSpectrum and fitted. The fit results are inserted in files named like e.g.</computeroutput>Calo/AnaFOOT_Calo_Decoded_HIT2022_140MeV_Fit.root` which also store the crystalID charge histogram and the fit plot restricted in [x_min, x_max]. </para>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>!defined(__CINT__)<sp/>||<sp/>defined(__MAKECINT__)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;TFile.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;TCanvas.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;TH1D.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;TFitResultPtr.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;TF1.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;TLegend.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;TObjString.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;iostream&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;cmath&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;iomanip&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;TSpectrum.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="AnalyzePeakCrystal_8h_1a5aadeca6af3105a72d885dcc752237db" kindref="member">PrintMeasurement</ref>(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>value,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>uncertainty);</highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight></codeline>
<codeline lineno="46"><highlight class="normal">TFitResultPtr<sp/><ref refid="AnalyzePeakCrystal_8h_1a814766d4b881835f9ba65bc6bcb27b0d" kindref="member">FitPeakWithTSpectrum</ref>(TH1D<sp/>*hist,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>threshold);</highlight></codeline>
<codeline lineno="47"><highlight class="normal"></highlight></codeline>
<codeline lineno="58"><highlight class="normal">std::tuple&lt;TH1D*,<sp/>TH1D*&gt;<sp/><ref refid="AnalyzePeakCrystal_8h_1aee07cb059be4125e9378b6ec353e11a3" kindref="member">FindHistograms</ref>(TFile<sp/>*inFile,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>TString<sp/>&amp;histName_total,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>TString<sp/>&amp;histName);</highlight></codeline>
<codeline lineno="59"><highlight class="normal"></highlight></codeline>
<codeline lineno="70"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="AnalyzePeakCrystal_8h_1aec202f6e32bb23c6bb5ffe63a7d2e7df" kindref="member">SaveFitResultsToFile</ref>(TCanvas*<sp/>canvas,<sp/>TH1D*<sp/>hist,<sp/>TFitResultPtr<sp/>fitResult,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>TString&amp;<sp/>outputFileName);</highlight></codeline>
    </programlisting>
    <location file="/mnt/c/Users/Lorenzo/Desktop/HIT2022_Analysis_Macros/src/AnalyzePeakCrystal.h"/>
  </compounddef>
</doxygen>
